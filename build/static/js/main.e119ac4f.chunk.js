(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(20)},20:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(9),r=n.n(o),l=(n(8),n(1)),c=n(2),s=n(4),u=n(3),m=n(5),d=n(6),p=n.n(d),f=n(10),g=function(e){var t=localStorage.getItem("imageModalMaxzIndex");t?(e.style.zIndex=+t+1,localStorage.setItem("imageModalMaxzIndex",e.style.zIndex)):(localStorage.setItem("imageModalMaxzIndex",1e3),e.style.zIndex=1e3);var n=0,a=0,i=0,o=0,r=!1;e.onmousedown=function(l){console.log("down"),t=localStorage.getItem("imageModalMaxzIndex"),e.style.zIndex!=t&&(e.style.zIndex=+t+1,localStorage.setItem("imageModalMaxzIndex",e.style.zIndex)),l.preventDefault(),n=l.clientX,a=l.clientY,i=e.offsetLeft,o=e.offsetTop,r=!0,e.style.cursor="move"},e.onmousemove=function(t){if(t.preventDefault(),0!=r){var l=t.clientX,c=t.clientY,s=l-(n-i),u=c-(a-o);e.style.left=s+"px",e.style.top=u+"px",e.querySelector(".image-content").style.opacity=.3}},e.onmouseup=function(){r=!1,e.style.cursor="default",e.querySelector(".image-content").style.opacity=1}},h=function(e,t){var n=e,a=parseInt(t.style.width),i=parseInt(t.style.left),o=a-n.deltaY;o<=300||i+o<50||(t.style.width="".concat(o,"px"))},v=n(11),x=function(){function e(t,n){Object(l.a)(this,e),this.container=t,this.option=Object(v.a)({width:"200px",height:"150px",opacity:.7,fillStyle:"rgba(47, 205, 227, 0.3)",font:"20px microsoft yahei",textBaseline:"middle",textAlign:"center",fillText:"\u6c34\u5370"},n)}return Object(c.a)(e,[{key:"draw",value:function(){var e=this.container,t=this.option,n=t.width,a=t.height,i=t.opacity,o=t.fillStyle,r=t.font,l=t.textBaseline,c=t.textAlign,s=t.fillText,u=t.scrollHeight,m=document.createElement("canvas");m.setAttribute("width",n),m.setAttribute("height",a),m.setAttribute("opacity",i);var d=m.getContext("2d");d.textAlign=c,d.textBaseline=l,d.font=r,d.fillStyle=o,d.rotate(Math.PI/180*30),d.fillText(s,80,10);var p=m.toDataURL(),f=document.createElement("div");f.setAttribute("style","\n          position:absolute;\n          top:0;\n          left:0;\n          width:100%;\n          height:".concat(u||"100%",";\n          z-index:1000;\n          pointer-events:none;\n          background-repeat:repeat;\n          background-image:url('").concat(p,"')")),"object"===typeof e&&(e.style.position="relative",e.insertBefore(f,e.firstChild))}}]),e}(),y=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).componentDidUpdate=function(){var e=Object(f.a)(p.a.mark(function e(t){var a,i,o,r,l;return p.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=n.props,i=a.visible,o=a.userId,i&&!t.visible&&(r=n.refs.imageModal,l=r.querySelector(".image-content"),g(r),o&&new x(l,{fillText:o}).draw());case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}(),n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.visible,a=t.src,o=t.prev,r=t.next,l=t.closeModal;return i.a.createElement("div",null,n&&i.a.createElement("div",{ref:"imageModal",className:"image-modal",style:{width:"800px"},onWheel:function(t){return h(t,e.refs.imageModal)}},i.a.createElement("span",{id:"close-icon",onClick:l},"x"),i.a.createElement("span",{id:"left-icon",onClick:o},"<"),i.a.createElement("span",{id:"right-icon",onClick:r},">"),i.a.createElement("div",{className:"image-content",ref:"imageContent"},i.a.createElement("img",{src:a,style:{width:"100%"},alt:""}))))}}]),t}(a.Component),b=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleImgClick=function(e){n.setState({modalVisible:!0,currentImageIndex:e})},n.closeImg=function(){return n.setState({modalVisible:!1})},n.state={imageList:[],currentImageIndex:0,modalVisible:!1},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({imageList:["http://pic39.photophoto.cn/20160630/1155115644653376_b.jpg","http://image.biaobaiju.com/uploads/20180801/23/1533136618-ARPmGQwjvD.jpg","http://img18.3lian.com/d/file/201712/08/8c2b94d5ec0bf634e3881b4ad5568b57.png","http://img3.duitang.com/uploads/blog/201509/15/20150915125228_ixEts.jpeg","https://s10.sinaimg.cn/mw690/001whaJHzy7kChbjZRn59&690"]})}},{key:"prev",value:function(){var e=this.state.currentImageIndex;e>0&&this.setState({currentImageIndex:e-1})}},{key:"next",value:function(){var e=this.state,t=e.currentImageIndex;t<e.imageList.length-1&&this.setState({currentImageIndex:t+1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.modalVisible,a=t.imageList,o=t.currentImageIndex;return i.a.createElement("div",{className:"container"},i.a.createElement("ul",{className:"image-list"},a.map(function(t,n){return i.a.createElement("li",null,i.a.createElement("img",{key:n,src:t,style:{width:"100px"},alt:"",onClick:function(){return e.handleImgClick(n)}}))})),i.a.createElement(y,{visible:n,src:a[o],next:function(){return e.next()},prev:function(){return e.prev()},closeModal:function(){return e.closeImg()},userId:"\u591a\u529f\u80fd\u56fe\u7247\u7ec4\u4ef6"}))}}]),t}(a.Component),I=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return i.a.createElement("div",{className:"App"},i.a.createElement(b,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},8:function(e,t,n){}},[[12,2,1]]]);
//# sourceMappingURL=main.e119ac4f.chunk.js.map